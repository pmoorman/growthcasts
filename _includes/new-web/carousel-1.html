<!-- vars
id: string (optional). Needed if multiple carousels on the same page
auto_height: boolean (optional)
hide_next_slide: boolean (optional)
items: list
  - title: Lillian Goodwin
    subtitle: Founder
    
    body: Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam
    image: /assets/images/new-web/testimonial_1.png
    image_position: left
-->

{% assign id = include.id | default 'carousel' %}
{% if include.hide_next_slide %}
{% assign hide_next_slide = include.hide_next_slide %}
{% else %}
{% assign hide_next_slide = 'false' %}
{% endif %}

<div class="carousel-1" id="{{ id }}">
  {% for item in include.items %}
  {% if item.image_position == 'left' %}
  {% assign image_position = 'left: -20px;' %}
  {% else %}
  {% assign image_position = 'right: 20px;' %}
  {% endif %}
  <div class="shadow-grey bg-white border-grey mx-2 mx-md-3 my-4 position-relative p-4" {% if include.auto_height %}style="height: 100%!important;"{% endif %}>
    <div class="position-absolute" style="width: 50px; top: -25px; {{ image_position }}">
      <img class="avatar-img img-fluid" src="{{ item.image }}">
    </div>

    <div>
      <p class="pt-2 mb-0 font-weight-bold">{{ item.title }}</p>
      <p style="color: #d5d7e1;">{{ item.subtitle }}</p>
      <p>{{ item.body }}</p>
    </div>
  </div>
  {% endfor %}
</div>

<style>
  .carousel-1 .avatar-img {
    border: 4px solid #fff;
    border-radius: 100%;
  }
</style>

<script>
  $('#{{id}}').slick({ 
    mobileFirst:true,
    centerMode: !{{ hide_next_slide }},
    slidesToShow: 1,
    arrows: false,
    dots: true,
    centerPadding: '35px',
    responsive: [
    {
      breakpoint: 1024,
      settings: {
        arrows: true,
        slidesToShow: 3,
        slidesToScroll: 3,
        infinite: true,
        centerPadding: '50px',
      }
    },
    {
      breakpoint: 600,
      settings: {
        arrows: true,
        slidesToShow: 2,
        slidesToScroll: 2,
        infinite: true,
      }
    },
    {
      breakpoint: 480,
      settings: {
        arrows: true,
        slidesToShow: 1,
        slidesToScroll: 1,
        infinite: true,
      }
    }
  ]
 });
</script>